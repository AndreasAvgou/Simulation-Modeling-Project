import random
import matplotlib.pyplot as plt

def malware_simulation(N=1000, steps=200, beta=1.0):
    nodes = [0] * N
    infected_counts = []
    nodes[random.randint(0, N-1)] = 1

    for _ in range(steps):
        new_nodes = nodes.copy()
        for i in range(N):
            if nodes[i] == 1:
                if random.random() < beta:
                    target = random.randint(0, N-1)
                    new_nodes[target] = 1
        nodes = new_nodes
        infected_counts.append(sum(nodes))
    return infected_counts

if __name__ == "__main__":
    I = malware_simulation()
    plt.plot(I)
    plt.title("Malware Spread (No Immunity)")
    plt.xlabel("Time")
    plt.ylabel("Infected")
    plt.grid()
    plt.show()